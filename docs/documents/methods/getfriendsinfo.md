---
sidebar_position: 5
title: 5. 获取好友信息
---

# 获取好友信息

## 1. 获取粗略信息

参数说明：

| 参数名  | 类型 | 默认值 |       说明       |
| :-----: | :--: | :----: | :--------------: |
| keywords | str | None | 搜索关键词 |

```python
from wxauto import WeChat

wx = WeChat()

friend_infos = wx.GetAllFriends()
# [{'nickname': '张三', 'remark': '张总', 'tags': None},
#  {'nickname': '李四', 'remark': None, 'tags': ['同事', '初中同学']},
#  {'nickname': '王五', 'remark': None, 'tags': None},
# ...]
```

:::info 注意
1. 该方法运行时间取决于好友数量，约每秒6~8个好友的速度 
2. 该方法未经过大量测试，可能存在未知问题，如有问题请微信群内反馈
:::

## 2. 获取详细信息

参数说明：

| 参数名  | 类型 | 默认值 |       说明       |
| :-----: | :--: | :----: | :--------------: |
| n | int | None | 获取前n个好友详情信息, 默认为None，获取所有好友详情信息 |
| timeout | int | 0xFFFFF | 获取好友详情信息的超时时间，单位为秒 |

```python
from wxauto import WeChat

wx = WeChat()

friend_details = wx.GetFriendDetails()
# [{'微信号：': 'abc123456',
#   '地区：': '上海 浦东新区',
#   '备注': '',
#   '标签': 'wxauto',
#   '共同群聊': '1个',
#   '来源': '通过扫一扫添加',
#   '昵称': '张三'},
# {'备注': '',
#  '企业': '广州融创文旅城',
#  '实名': '***',
#  '官方商城': '🎫购滑雪票入口🎫',
#  '通知': '回复时间为工作日9点-18点',
#  '会员商城': '🏂热雪值兑换雪票🏂',
#  '冰箱赞滑': '👬申请冰箱主理人👭',
#  '全民滑雪': '购票赢黄金会籍',
#  '共同群聊': '1个',
#  '昵称': '广州大冰箱'},...]
```

:::info 注意
1. 该方法运行时间较长，约0.5~1秒一个好友的速度，好友多的话可将`n`或者`timeout`参数设置为一个较小的值，先测试一下
2. 如果遇到企业微信的好友且为已离职状态，可能导致微信卡死，需重启（此为微信客户端BUG）
3. 该方法未经过大量测试，可能存在未知问题，如有问题请微信群内反馈
:::