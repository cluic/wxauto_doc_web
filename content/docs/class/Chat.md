---
weight: 1
bookFlatSection: true
title: "Chatç±»"
---
## Chat ç±»å±æ€§

åœ¨äº†è§£`Chat`ç±»çš„æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆä»‹ç»ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªç±»ã€‚
`wxauto(x)`è¿™ä¸ªé¡¹ç›®çš„åŸç†æ˜¯æ¨¡æ‹Ÿäººå·¥å¯¹å¾®ä¿¡å®¢æˆ·ç«¯çš„æ“ä½œï¼Œæ‹¿å–åˆ°çš„æ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯äººçœ¼å¯è§çš„éƒ¨åˆ†ï¼Œ
æ‰€ä»¥å½“æˆ‘ä»¬æƒ³ç›‘å¬æŸä¸ªäººæˆ–ç¾¤æ¶ˆæ¯çš„æ—¶å€™ï¼Œéœ€è¦æŠŠè¿™ä¸ªäººçš„èŠå¤©çª—å£ç‹¬ç«‹å‡ºæ¥ï¼Œä»¥ç¡®ä¿UIå…ƒç´ ä¸ä¼šå› ä¸ºå¾®ä¿¡ä¸»çª—å£åˆ‡æ¢èŠå¤©è€Œä¸¢å¤±ï¼Œ
åŒæ—¶ä¹Ÿä¸éœ€è¦æ¯æ¥ä¸€æ¡ä¿¡æ¯éƒ½åˆ‡æ¢èŠå¤©çª—å£å»è·å–ã€‚
æ‰€ä»¥ï¼Œ`Chat`ç±»å°±æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„èŠå¤©çª—å£ï¼Œå¹¶è·å–è¿™ä¸ªèŠå¤©çª—å£çš„ä¿¡æ¯ã€‚

### èŠå¤©çª—å£ç±»å‹ chat_type

è·å–å½“å‰èŠå¤©çª—å£çš„ç±»å‹ï¼Œè¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå–å€¼èŒƒå›´å¦‚ä¸‹ï¼š

- friendï¼šå¥½å‹
- groupï¼šç¾¤èŠ
- serviceï¼šå®¢æœ
- officialï¼šå…¬ä¼—å·

```python
chat_type = wx.chat_type
```


## Chat ç±»æ–¹æ³•

### æ˜¾ç¤ºçª—å£ Show

```python
wx.Show()
```

### è·å–èŠå¤©çª—å£ä¿¡æ¯ ChatInfo

```python
info = wx.ChatInfo()
```

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š`dict`
- æè¿°ï¼šèŠå¤©çª—å£ä¿¡æ¯
- è¿”å›å€¼ç¤ºä¾‹ï¼š
```python
# å¥½å‹
{'chat_type': 'friend', 'chat_name': 'å¼ ä¸‰'}  

# ç¾¤èŠ
{'group_member_count': 500, 'chat_type': 'group', 'chat_name': 'å·¥ä½œç¾¤'}  

# å®¢æœ
{'company': '@è‚¯å¾·åŸº', 'chat_type': 'service', 'chat_name': 'åº—é•¿xxx'} 

# å…¬ä¼—å·
{'chat_type': 'official', 'chat_name': 'è‚¯å¾·åŸº'} 
```

### âœ¨@æ‰€æœ‰äºº AtAll

```python
group = 'å·¥ä½œç¾¤'
content = """
é€šçŸ¥ï¼š
ä¸‹åˆxxxx
xxxx
"""

wx.AtAll(content, group)
```

msg (str): å‘é€çš„æ¶ˆæ¯

â€‹      who (str, optional): å‘é€ç»™è°. Defaults to None.

â€‹      exact (bool, optional): æ˜¯å¦ç²¾ç¡®åŒ¹é…. Defaults to False.

**å‚æ•°**ï¼š

| å‚æ•°  | ç±»å‹   | é»˜è®¤å€¼ | æè¿°                                                         |
| ----- | ------ | ------ | ------------------------------------------------------------ |
| msg   | str    | None   | å‘é€çš„æ¶ˆæ¯                                                   |
| who   | str    | None   | å‘é€ç»™è°                                                     |
| exact | bool   | False  | æ˜¯å¦ç²¾ç¡®åŒ¹é…                                                 |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ


### å‘é€æ¶ˆæ¯ SendMsg

```python
wx.SendMsg(msg="ä½ å¥½", who="å¼ ä¸‰", clear=True, at="æå››", exact=False)
```

**å‚æ•°**ï¼š

| å‚æ•°  | ç±»å‹                  | é»˜è®¤å€¼ | æè¿°                                                         |
| ----- | --------------------- | ------ | ------------------------------------------------------------ |
| msg   | str                   | å¿…å¡«   | æ¶ˆæ¯å†…å®¹                                                     |
| who   | str                   | None   | å‘é€å¯¹è±¡ï¼Œä¸æŒ‡å®šåˆ™å‘é€ç»™å½“å‰èŠå¤©å¯¹è±¡ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ** |
| clear | bool                  | True   | å‘é€åæ˜¯å¦æ¸…ç©ºç¼–è¾‘æ¡†                                         |
| at    | Union[str, List[str]] | None   | @å¯¹è±¡ï¼Œä¸æŒ‡å®šåˆ™ä¸@ä»»ä½•äºº                                     |
| exact | bool                  | False  | æœç´¢whoå¥½å‹æ—¶æ˜¯å¦ç²¾ç¡®åŒ¹é…ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ**        |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ

### âœ¨å‘é€æ–‡æœ¬æ¶ˆæ¯ï¼ˆæ‰“å­—æœºæ¨¡å¼ï¼‰SendTypingText

```python
wx.SendTypingText(msg="ä½ å¥½", who="å¼ ä¸‰", clear=True, exact=False)
```

**å‚æ•°**ï¼š

| å‚æ•°  | ç±»å‹ | é»˜è®¤å€¼ | æè¿°                                                         |
| ----- | ---- | ------ | ------------------------------------------------------------ |
| msg   | str  | å¿…å¡«   | è¦å‘é€çš„æ–‡æœ¬æ¶ˆæ¯                                             |
| who   | str  | None   | å‘é€å¯¹è±¡ï¼Œä¸æŒ‡å®šåˆ™å‘é€ç»™å½“å‰èŠå¤©å¯¹è±¡ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ** |
| clear | bool | True   | æ˜¯å¦æ¸…é™¤åŸæœ¬çš„å†…å®¹                                           |
| exact | bool | False  | æœç´¢whoå¥½å‹æ—¶æ˜¯å¦ç²¾ç¡®åŒ¹é…ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ**        |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ

**ç¤ºä¾‹**ï¼š

```python
# æ¢è¡ŒåŠ@åŠŸèƒ½
wx.SendTypingText('å„ä½ä¸‹åˆå¥½\n{@å¼ ä¸‰}è´Ÿè´£xxx\n{@æå››}è´Ÿè´£xxxx', who='å·¥ä½œç¾¤')
```

### å‘é€æ–‡ä»¶ SendFiles

```python
wx.SendFiles(filepath="C:/æ–‡ä»¶.txt", who="å¼ ä¸‰", exact=False)
```

**å‚æ•°**ï¼š

| å‚æ•°     | ç±»å‹      | é»˜è®¤å€¼ | æè¿°                                                         |
| -------- | --------- | ------ | ------------------------------------------------------------ |
| filepath | str\|list | å¿…å¡«   | è¦å¤åˆ¶æ–‡ä»¶çš„ç»å¯¹è·¯å¾„                                         |
| who      | str       | None   | å‘é€å¯¹è±¡ï¼Œä¸æŒ‡å®šåˆ™å‘é€ç»™å½“å‰èŠå¤©å¯¹è±¡ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ** |
| exact    | bool      | False  | æœç´¢whoå¥½å‹æ—¶æ˜¯å¦ç²¾ç¡®åŒ¹é…ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ**        |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ

### âœ¨å‘é€è‡ªå®šä¹‰è¡¨æƒ… SendEmotion

```python
wx.SendEmotion(emotion_index=0, who="å¼ ä¸‰", exact=False)
```

**å‚æ•°**ï¼š

| å‚æ•°          | ç±»å‹ | é»˜è®¤å€¼ | æè¿°                                                         |
| ------------- | ---- | ------ | ------------------------------------------------------------ |
| emotion_index | str  | å¿…å¡«   | è¡¨æƒ…ç´¢å¼•ï¼Œä»0å¼€å§‹                                            |
| who           | str  | None   | å‘é€å¯¹è±¡ï¼Œä¸æŒ‡å®šåˆ™å‘é€ç»™å½“å‰èŠå¤©å¯¹è±¡ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ** |
| exact         | bool | False  | æœç´¢whoå¥½å‹æ—¶æ˜¯å¦ç²¾ç¡®åŒ¹é…ï¼Œ**å½“å­çª—å£æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆ**        |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ

### è·å–å½“å‰èŠå¤©çª—å£çš„æ‰€æœ‰æ¶ˆæ¯ GetAllMessage

```python
messages = wx.GetAllMessage()
```

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼šList[[Message](#message-ç±»æ–¹æ³•)]
- æè¿°ï¼šå½“å‰èŠå¤©çª—å£çš„æ‰€æœ‰æ¶ˆæ¯

### åŠ è½½å½“å‰çª—å£æ›´å¤šèŠå¤©è®°å½• LoadMoreMessage

```python
wx.LoadMoreMessage()
```

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦å‘é€æˆåŠŸ

### âœ¨æ·»åŠ ç¾¤æˆå‘˜ AddGroupMembers

```python
wx.AddGroupMembers(group="æŠ€æœ¯äº¤æµç¾¤", members=["å¼ ä¸‰", "æå››"], reason="äº¤æµæŠ€æœ¯")
```

**å‚æ•°**ï¼š

| å‚æ•°    | ç±»å‹                  | é»˜è®¤å€¼ | æè¿°                                             |
| ------- | --------------------- | ------ | ------------------------------------------------ |
| group   | str                   | None   | ç¾¤å                                             |
| members | Union[str, List[str]] | None   | æˆå‘˜åæˆ–æˆå‘˜ååˆ—è¡¨                               |
| reason  | str                   | None   | ç”³è¯·ç†ç”±ï¼Œå½“ç¾¤ä¸»å¼€å¯éªŒè¯æ—¶éœ€è¦ï¼Œä¸å¡«å†™åˆ™å–æ¶ˆç”³è¯· |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦æ·»åŠ æˆåŠŸ

### âœ¨è·å–å½“å‰èŠå¤©ç¾¤æˆå‘˜ GetGroupMembers

```python
members = wx.GetGroupMembers()
```

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š`List[str]`
- æè¿°ï¼šå½“å‰èŠå¤©ç¾¤æˆå‘˜åˆ—è¡¨

### âœ¨ç§»é™¤ç¾¤æˆå‘˜ RemoveGroupMembers

```python
wx.RemoveGroupMembers(group="ç¾¤å", members=["æˆå‘˜å1", "æˆå‘˜å2"])
```

**å‚æ•°**ï¼š

| å‚æ•°    | ç±»å‹    | é»˜è®¤å€¼ | æè¿°    |
| ------- | ------- | ------ | ------- |
| group   | str     | None   | ç¾¤å    |
| members | str     | None   | æˆå‘˜å  |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦ç§»é™¤æˆåŠŸ

### âœ¨ä»ç¾¤èŠä¸­æ·»åŠ å¥½å‹ AddFriendFromGroup

```python
index = 5  # ç”³è¯·ç¾¤é‡Œç´¢å¼•å€¼ä¸º5çš„æˆå‘˜ä¸ºå¥½å‹
remark = "å¤‡æ³¨å"
tags = ["æ ‡ç­¾1", "æ ‡ç­¾2"]
result = wx.AddFriendFromGroup(index=index, remark=remark, tags=tags)
if result:
    print("æˆåŠŸå‘èµ·ç”³è¯·")
else:
    print(f"ç”³è¯·å¤±è´¥ï¼š{result['message']}")
```

**å‚æ•°**ï¼š

| å‚æ•°    | ç±»å‹    | é»˜è®¤å€¼ | æè¿°    |
| ------- | ------- | ------ | ------- |
| index   | int     | None   | ç¾¤èŠç´¢å¼• |
| who     | str     | None   | ç¾¤åï¼Œå½“`Chat`å¯¹è±¡æ—¶è¯¥å‚æ•°æ— æ•ˆï¼Œä»…`WeChat`å¯¹è±¡æœ‰æ•ˆ |
| addmsg  | str     | None   | ç”³è¯·ç†ç”±ï¼Œå½“ç¾¤ä¸»å¼€å¯éªŒè¯æ—¶éœ€è¦ï¼Œä¸å¡«å†™åˆ™å–æ¶ˆç”³è¯· |
| remark  | str     | None   | æ·»åŠ å¥½å‹åçš„å¤‡æ³¨å |
| tags    | list    | None   | æ·»åŠ å¥½å‹åçš„æ ‡ç­¾ |
| permission | Literal['æœ‹å‹åœˆ', 'ä»…èŠå¤©'] | 'ä»…èŠå¤©' | æ·»åŠ å¥½å‹åçš„æƒé™ |
| exact   | bool    | False  | æ˜¯å¦ç²¾ç¡®åŒ¹é…ç¾¤èŠå |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)

### âœ¨ä¿®æ”¹å¥½å‹å¤‡æ³¨åæˆ–æ ‡ç­¾ ManageFriend

```python
wx.ManageFriend(remark="æ–°å¤‡æ³¨å")
wx.ManageFriend(tags=["æ ‡ç­¾1", "æ ‡ç­¾2"])
```

**å‚æ•°**ï¼š

| å‚æ•°   | ç±»å‹    | é»˜è®¤å€¼ | æè¿°     |
| ------ | ------- | ------ | -------- |
| remark | str     | None   | å¤‡æ³¨å   |
| tags   | List[str] | None   | æ ‡ç­¾åˆ—è¡¨ |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦æˆåŠŸä¿®æ”¹å¤‡æ³¨åæˆ–æ ‡ç­¾

### âœ¨ç®¡ç†å½“å‰ç¾¤èŠ ManageGroup

```python
wx.ManageGroup(name="æ–°ç¾¤å")
wx.ManageGroup(remark="æ–°å¤‡æ³¨å")
wx.ManageGroup(myname="æ–°ç¾¤æ˜µç§°")
wx.ManageGroup(notice="æ–°ç¾¤å…¬å‘Š")
wx.ManageGroup(quit=True)   # è°¨æ…ä½¿ç”¨
```

**å‚æ•°**ï¼š

| å‚æ•°   | ç±»å‹    | é»˜è®¤å€¼ | æè¿°     |
| ------ | ------- | ------ | -------- |
| name   | str     | None   | ç¾¤åç§°   |
| remark | str     | None   | å¤‡æ³¨å   |
| myname | str     | None   | æˆ‘çš„ç¾¤æ˜µç§° |
| notice | str     | None   | ç¾¤å…¬å‘Š   |
| quit   | bool    | False  | æ˜¯å¦é€€å‡ºç¾¤ï¼Œå½“è¯¥é¡¹ä¸ºTrueæ—¶ï¼Œå…¶ä»–å‚æ•°æ— æ•ˆ |

### å…³é—­çª—å£ Close

```python
wx.Close()
```

### âœ¨åˆå¹¶è½¬å‘æ¶ˆæ¯ MergeForward

{{< cards >}}
  {{< card link="/docs/example/#8-åˆå¹¶è½¬å‘æ¶ˆæ¯" title="ğŸ‘‰æŸ¥çœ‹åˆå¹¶è½¬å‘æ¶ˆæ¯ç¤ºä¾‹" tag="ç‚¹å‡»è·³è½¬" tagType="info" >}}
{{< /cards >}}

**å‚æ•°**ï¼š

| å‚æ•°   | ç±»å‹    | é»˜è®¤å€¼ | æè¿°     |
| ------ | ------- | ------ | -------- |
| targets   | Union[List[str], str]     | None   | è¦è½¬å‘çš„å¯¹è±¡  |

**è¿”å›å€¼**ï¼š

- ç±»å‹ï¼š[`WxResponse`](/docs/class/other/#wxresponse)
- æè¿°ï¼šæ˜¯å¦æˆåŠŸè½¬å‘